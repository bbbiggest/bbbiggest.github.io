---
layout: post
current: post
cover: assets/images/palace_at_night.png
navigation: True
title: 《计算机网络》读书笔记（二）
date: 2021-09-25 16:52:17 +0800
tags: [notes]
class: post-template
subclass: 'post'
author: bbig
---

##  《计算机网络 自顶向下方法》读书笔记（二）

计算机网络和因特网



### 分组交换网中的时延、丢包和吞吐量

计算机网络中**三个**至关重要的**性能测度**是：**时延**、**丢包**和**端到端吞吐量**。



#### 时延

##### 节点时延

分组在路径上的每个节点都会经受几种不同类型的时延，其中最为重要的是**节点处理时延** (nodal processing delay) 、**排队时延** (queuing delay) 、**传输时延** (transmission delay) 和**传播时延** (propagation delay) 。

如果令 *d*<sub>proc</sub> 、 *d*<sub>queue</sub> 、 *d*<sub>trans</sub> 、 *d*<sub>prop</sub> 分别表示处理时延、排队时延、传输时延和传播时延，则节点的总时延由下式给定：

***d*<sub>nodal</sub> = *d*<sub>proc</sub> + *d*<sub>queue</sub> + *d*<sub>trans</sub> + *d*<sub>prop</sub>**  

+ 处理时延

  包括检查分组首部和决定将该分组**导向何处**所需要的时间，检查比特级别的**差错**所需要的时间。

+ 排队时延

  在队列中，分组在链路上**等待传输**的时间。其取决于先期到达的正在排队等待向链路传输的分组数量。

+ 传输时延

  是将所有分组的比特**推向链路**所需要的时间。用 ***L*** 比特表示该分组的长度，用 ***R*** bps ( 即 b/s ) 表示从路由器 A 到路由器 B 的链路传输速率，则 传输时延是 ***L/R*** 。

+ 传播时延

  一个比特被推向链路后，需要向路由器 B 传播。从该链路的**起点到路由器 B 传播**所需要的时间是传播时延。该比特以该链路的传播速率传播，该传播速率取决于该链路的物理媒体。传输时延和传播时延的**区别**可以分别类比于，整个个车队经过收费站所需要的时间，和从这个收费站出口到下个收费站所需要的时间。



##### 端到端时延

节点时延是在单台路由器上的时延，现在考虑从源到目的地的**总时延**。

假定在源主机和目的主机之间有 **N-1 台**路由器，再假定此时该网络是**无拥塞**的（所以排队时延可忽略不计），在每台路由器和源主机上的处理时延是 *d*<sub>proc</sub> ，每台路由器和源主机的输出速率是 R bps ，每条链路的传播时延是 *d*<sub>prop</sub> ， *d*<sub>trans</sub> = *L/R* 。

节点累加起来，得到端到端时延： ***d*<sub>end-end</sub> = *N*(*d*<sub>proc</sub> + *d*<sub>trans</sub> + *d*<sub>prop</sub>)** 。



#### 丢包

一条链路前的队列只有**有限的容量**，当到达的分组发现是一个满的队列，由于没有地方存储这个分组，路由器将**丢弃**该分组。

令 a 表示分组到达队列的平均速率（单位是分组每秒，即 pkt/s ）。R 是传输速率，即从队列中推出比特的速率。假定所有分组都是由 L 比特组成的，则**流量强度**为比率 *La/R* 。分组丢失的比例随着流量强度**增加而增加**。丢失的分组可能基于端到端的原则**重传**。



#### 端到端吞吐量

从主机 A 到主机 B 跨越计算机网络传送一个大文件。那么，在任何时间瞬间的**瞬时吞吐量** (instantaneous throughput) 是主机 B **接收到该文件的速率**（以 bps 计）。

如果该文件由 F 比特组成，主机 B 接收到所有 F 比特用去 T 秒，则文件的传送的**平均吞吐量** (average throughput) 是 ***F/T bps*** 。

吞吐量不仅取决于**数据流过的链路的传输速率**，还取决于**干扰流量**。当没有其它干扰流量时，吞吐量能够近似为沿着源和目的地之间路径的最小传输速率。

