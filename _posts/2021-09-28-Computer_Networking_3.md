---
layout: post
current: post
cover: assets/images/2021-09-28-Computer_Networking_3.png
navigation: True
title: 《计算机网络》读书笔记（三）
date: 2021-09-28 17:39:18 +0800
tags: [notes]
class: post-template
subclass: 'post'
author: bbig
---

##  《计算机网络 自顶向下方法》读书笔记（三）

运输层



### 多路复用与多路分解

**多路分解** (demultiplexing) ：将运输层报文段中的数据**交付**到正确的套接字的工作。

**多路复用** (multiplexing) ：在源主机从不同套接字中**收集**数据块，并未每个数据块**封装**上首部信息，从而**生成**报文段，然后将报文段**传递**到网络层，所有这些工作称为多路复用。

一个 **UDP 套接字**是由一个**二元**组全面标识的，该二元组包含一个**目的 IP 地址**和一个**目的端口号**。

而 **TCP 套接字**是由一个**四元**组（**源 IP 地址**、**源端口号**、**目的 IP 地址**、**目的端口号**）来标识的。主机使用全部四个值来将报文段**定向**到相应的套接字。



### 无运输连接： UDP

UDP 报文段结构包括：**首部**和**应用数据**。

其中首部包括了 **4 个字段**，每个字段由两个字节组成，分别是：

+ **源端口号**
+ **目的端口号**：通过端口号可以执行**分解**功能
+ **长度**：指示了在 UDP 报文段中的**字节数**（首部加数据）
+ **检验和**：提供了**差错检测**功能，但不提供差错恢复功能
  + 计算方法：将发送方的 UDP 对报文段（还包括了[伪头部](https://en.wikipedia.org/wiki/User_Datagram_Protocol#IPv4_pseudo_header)）中的所有 16 比特字的**和**进行**反码**运算，遇到溢出则**回卷**

UDP 与 IP 一样，是一种**不可靠服务** (unreliable service) ，不保证报文段的交付、按序交付、以及数据的完整性。UDP 只做了运输协议能够做的最少工作，除了**复用/分解功能**及少量的**差错检测**外，几乎没有对 IP 增加别的东西。使用 UDP 在发送报文段前，是没有握手的，也因此 UDP 被称为是**无连接**的。

虽然 UDP 不提供可靠数据传输服务，但反过来说，它无需连接建立、无连接状态、分组首部开销小，所以它**更快**、性能更好、更适合实时应用，也一般能支持更多的活跃客户。所以也有很多重要的应用是运行在 UDP 上的。而且也可以通过在应用程序自身中建立可靠性机制来完成可靠数据传输。

